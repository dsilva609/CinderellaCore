@using CinderellaCore.Model.Models
@using Microsoft.AspNetCore.Identity

@model CinderellaCore.Model.Models.FunkoPop
@inject UserManager<ApplicationUser> UserManager

<div id="fh5co-board" data-columns>
    <div class="item">
        <div class="flip-container" ontouchstart="this.classList.toggle('hover');">
            <div class="flipper pop">
                <div class="front">
                    <div class="animate-box text-center img-fluid">
                        <a href="@(string.IsNullOrWhiteSpace(Model.ImageUrl) ? "~/images/action-figures.jpg" : Model.ImageUrl)" class="image-popup img-thumbnail img-fluid fh5co-board-img" title="@Model.Title - @Model.Series (@Model.YearReleased)">
                            <img src="@(string.IsNullOrWhiteSpace(Model.ImageUrl) ? "~/images/action-figures.jpg" : Model.ImageUrl)" alt="@Model.Title">)
                        </a>
                    </div>
                </div>
                <div class="back">
                    <img src="~/images/action-figures.jpg" alt="Action Figures" />
                    <div class="info fh5co-desc @Model.CompletionStatus.ToString()" data-id="@Model.ID">
                        <a href="@(User.Identity.IsAuthenticated&& Model.UserNum == (await UserManager.GetUserAsync(User)).UserNum ?Url.Action("Edit", "Pop",new {id=Model.ID}) :Url.Action("Details","Pop",new{id=Model.ID}))">
                            <div class="row">
                                @Html.DisplayFor(modelItem => Model.Title)
                            </div>
                            <div class="row">
                                @Html.DisplayFor(modelItem => Model.Series)
                            </div>
                            <div class="row">
                                @Html.DisplayFor(modelItem => Model.PopLine)
                            </div>
                            <div class="row">
                                @Html.DisplayFor(x => x.Notes)
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>